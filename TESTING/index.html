<!DOCTYPE html>

<html>

  <head>
    <!-- Google tag (gtag.js) -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-XCREW70GLD"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-XCREW70GLD');
      </script>
    <!-- Google tag (gtag.js) -->
    <meta charset="UTF-8">
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://vicbartends.com"/>
    <meta property="og:site_name" content="Vicbartends.com"/>
    <meta property="og:title" content="Vicbartends.com">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Vicbartends.com">
    <link rel="canonical" href="https://vicbartends.com/">
    <meta property="og:image" content="https://vicbartends.com/TESTING/assets/icon.png"/>
    <meta property="twitter:image" content="https://vicbartends.com/TESTING/assets/icon.png"/>
    <meta name="twitter:description" content="Welcome to Vicbartends.com! Have a drink and check out MaxIsDreaming's very silly website!">
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Vicbartends.com",
      "url": "https://vicbartends.com",
      "description": "Welcome to Vicbartends.com! Have a drink and check out MaxIsDreaming's very silly website!",
      "image": "https://vicbartends.com/TESTING/assets/icon.png",
      "author": {
        "@type": "Person",
        "name": "Max_is_Dreaming"
      }
    }
    </script>
    <meta name="description" content="Welcome to Vicbartends.com! Have a drink and check out MaxIsDreaming's very silly website!">
    <meta property="og:description" content="Welcome to Vicbartends.com! Have a drink and check out MaxIsDreaming's very silly website!">
    <title>Vicbartends.com</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png" />
    <link rel="manifest" href="/assets/site.webmanifest" />
    <link rel="stylesheet" href="./styles/Style_Index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link href="maxisdreaming@vicbartends.com" rel="me">
    <link href="https://github.com/FeedMeBella" rel="me">
    </head>

  <body>
    <div id="loading">
      <pre id="loadingtext"></pre>

      <div class="Bartenderselect">
        <audio id="BSS1" src="sounds/BSSelect1.mp3"></audio>
        <audio id="BSS2" src="sounds/BSSelect2.mp3"></audio>
        <h1 class="BSTitle">
          <span>C</span><span>h</span><span>o</span><span>o</span><span>s</span><span>e</span>
          <span></span>
          <span>y</span><span>o</span><span>u</span><span>r</span>
          <span></span>
          <span>b</span><span>a</span><span>r</span><span>t</span><span>e</span><span>n</span><span>d</span><span>e</span><span>r</span><span>!</span>
        </h1>
        <img class="BartenderSelector" id="VicSelect" src="assets/VicBartendSelect.png" alt="Select Vic">
        <img class="BartenderSelector" id="LyriaSelect" src="assets/LyriaBartendSelect.png" alt="Select Lyria">
        <img class="BartenderSelector" id="PercivalSelect" src="assets/PercivalBartendSelect.png" alt="Select Percival">
      </div> 
    </div>

    <div class="satellite">
      <div class="mask">
        <!-- <a class="pointer" href="https://en.wikipedia.org/wiki/Amiga" target="_blank"><img id="sat1" src="buttons/amiga_power.gif" alt="amiga_power"></a> -->
        <a class="pointer" href='https://dazaisfunpalace.nekoweb.org/' target="_blank"><img id="sat3" src='https://file.garden/aKAqAHLfCSXZFtPr/ezgif-54233c7d0f5166.gif'></a> <!-- I have no idea what's going on here but I think I love it -->
        <a class="pointer" href="https://oklou.com" target="_blank"><img id="sat5" src="buttons/Tokyo_Ginza_1700_turbulence_top_link_mara.gif" alt="Girl Germs"></a> <!-- Actually it's my partner that's a huge oklou fan, I just wanted a cool website with music that had girl germs. Oklou is awesome tho-->
        <a class="pointer" href="https://rivestream.org/watch?type=tv&id=3475&season=1&episode=1" target="_blank"><img id="sat7" src="buttons/WestHollywood_Chelsea_2740_images_local_gaybutton3.gif" alt="Got Gay sex?"></a> <!-- Too much, honestly -->
        <a class="pointer" href="https://virtuagirl.net" target="_blank"><img id="sat9" src="buttons/virtuabutton1.gif" alt="VirtuaGirl in a VirtuaWorld"></a> <!-- I love her so much fr fr her art is amazing go buy commissions from her and then send me what u get please I thrist for virtua -->
        <a class="pointer" href="https://archive.org/donate?origin=iawww-TopNavDonateButton" target="_blank"><img id="sat11" src="buttons/SunsetStrip_Stadium_2893_Banners_gothicrosebanner.jpg" alt="Be Seduced..."></a> <!-- Do it do it do it do it do it-->
        <a class="pointer" href="https://catchingbugs.blog" target="_blank"><img id="sat13" src="buttons/KateBush.jpg" alt="KateBush"></a> <!-- I also like a lot of her songs. -->
        <a class="pointer" href="https://portal.mozz.us/gemini/astrobotany.mozz.us" target="_blank"><img id="sat15" src="buttons/AstroBotany.gif" alt="AstroBotany"></a> <!-- WHen I found this web project I almost cried of happiness. It's a pain to setup but really worth it. Please go do it NOW and let's be botany froends among the stars-->
        <a class="pointer" href="https://rose-engine.org/signalis/" target="_blank"><img id="sat17" src="buttons/Signalis.gif" alt="Signalis"></a> <!-- I figured someone should make a signalis button so -->
        <a class="pointer" href="https://zziz.nekoweb.org/" target="_blank"><img id="sat19" src="https://zziz.nekoweb.org/zzizbutton.gif" alt="zziz"></a> <!--It was 1am and i thought this site was fun -->
        <a class="pointer" href="https://tthumbelina.neocities.org/" target="_blank"> <img id="sat21" src="https://tthumbelina.neocities.org/buttons/IMG_1160.GIF" alt="thumbelina"></a> <!-- Cool site, cool person!-->
        <a class="pointer" href="https://duck.fyi" target="_blank"><img id="sat23" src="https://duck.fyi/buttons/88x31.gif" alt="Duck"></a> <!-- This place is awesome, I'm emailing duck about reaching 700 in /game. I'm hoping it's a highscore!-->
        <a class="pointer" href="https://psfla.net/" target="_blank"><img id="sat25" src="https://psfla.net/resc/img/psflabutton.png" alt="PSFLA"></a> <!-- reminder to self to ask to be neighbors with PSFLA -->
        <a class="pointer" href="https://joo.sh" target="_blank"><img id="sat27" src="https://files.joo.sh/img/buttons/jooshRice.gif" alt="Joooooooooooooooooooooooosh"></a> <!-- Satisfying place. And he loves his girflriend so much, it was really lovely to read some of the entries -->
        <a class="pointer" href="https://troy-sucks.neocities.org/" target="_blank"><img id="sat29" src="https://troy-sucks.neocities.org/images/troysucksstripes.gif" alt="TroySucks"> <!--Man this dude's journals are AMAZING. Super fun stuff, totes worth snooping around.-->

        <a class="pointer" href="" target="_blank"><img id="sat1" src="buttons/moon.png" alt="This is just a moon"></a>


      </div>
    </div>
    <div class="right">
        <img class="bar_shadow" src="./assets/bar_shadow.png" alt="Bar Shadow Cus Gifs dont do low opacity" draggable="false">
        <img class="bar" src="./assets/bar.png" alt="Bar" draggable="false">
        <img class="desktop_sign" src="./assets/WELCOME.gif" alt="Bar" draggable="false">
        <img class="tablet_sign" src="./assets/WELCOME.gif" alt="Bar" draggable="false"> <!-- THIS IS NOT DUMB i MADE THIS TO FIX A BUG! don't delete it future max -->
        <!-- <img class="seats" src="./assets/Seats.gif" alt="Bar" draggable="false"> -->

        <img class="Mixtape ATMN pointer" src="./assets/Autumn.png" alt="cassete" draggable="false">
        <img class="Mixtape SPRG pointer" src="./assets/Spring.png" alt="cassete" draggable="false">
        <img class="Mixtape SUMM pointer" src="./assets/Summer.png" alt="cassete" draggable="false">
        <img class="Mixtape WNTR pointer" src="./assets/Winter.png" alt="cassete" draggable="false">
        <img class="Mixtape VELA pointer" src="./assets/Vela.png" alt="CD" draggable="false">
        <img class="Mixtape TRCK pointer" src="./assets/Tracker.png" alt="FDisk" draggable="false">
        <img class="Mixtape IHBK pointer" src="./assets/Ihaveabloodkink.png" alt="PenD" draggable="false">
        <img class="Mixtape ELZBT pointer" src="./assets/Elizabeth.png" alt="Vinyl" draggable="false">

        <img class="bartender pointer" id="bartenderVic" src="./assets/VicGif.png" alt="Bartender" draggable="false">
        <img class="bartender pointer" id="bartenderLyria" src="./assets/LyriaGif.png" alt="Bartender" draggable="false">
        <a href="My_Art.html"><img class="AMIGA pointer" src="./assets/Amiga.gif" alt="AmigaPC" draggable="false"></a> 
        <a class="imood pointer" target="_blank" href="https://www.imood.com/users/Max_is_Dreaming"><img src="https://moods.imood.com/display/uname-Max_is_Dreaming/imood.gif" alt="The current mood of Max_is_Dreaming at www.imood.com" border="0"></a>

        <!-- graffiti -->
         <img class="leonorgraffiti" src="./Grafitti/LeonorTest.png" alt="leonore" draggable="false">
         <img class="antxniograffiti" src="./Grafitti/Antxnio.png" alt="antxnio" draggable="false">

    </div>
    <div class="left">
        <img src="./assets/Roberta.png" alt="planet" draggable="false">
    </div>

    <div class="space pointer" id="space-bar">
      <img src="./assets/sbaridle.png" class="idle" alt="space bar idle">
      <img src="./assets/sbarhover.png" class="focus" alt="space bar hover">
    </div>

    <div class="text-bubble" id="textBubble">
      <div class="bubble-wrapper pointer">
        <img src="./assets/TextBubbleDesk.gif" id="desktop-bubble" alt="TextBubble" draggable="false">
        <img src="./assets/TextBubbleTablet.gif" id="mobile-bubble" alt="TextBubbleMobile" draggable="false">
        <p id="bubbleText">Loading...</p>
      </div>
    </div>

    <!-- Mixtape Pages -->
    <div class="OVRL pointer">
      <div id="Autumn">
        <img class="BackgroundTape" src="./assets/Autumn.png" alt="cassete" draggable="false">
        <p class="MTTitle"> - Autumn - </p>
        <pre class="MTTrackList"> 
|| I am a song - Made by this artist || 3:01 
|| this is also a song - Made by this artist || 3:01
|| song? - Made by this artist || 3:01
|| Ig - Made by this artist || 3:01
|| I am a songas - Made by this artist || 3:01
|| I am a song - Made by this artist || 3:01 
        </pre>

      </div>

      <div id="ihabk">
        <img class="BackgroundTape" id="MixtapeDissapear" src="./assets/Ihaveabloodkink.png" alt="USB drive" draggable="false">
        <p class="MTTitle" id="MixtapeDissapear"> - I have a blood kink (I do, it's true) - </p>
        <img class="MTTrackList" src="./assets/Ihaveabloodkink_tracklist.png" draggable="false"> 
      </div>

      <div id="vela">
        <img class="BackgroundTape" src="./assets/Vela.png" alt="CD" draggable="false">
        <p class="MTTitle"> - Vela - </p>
        <img class="MTTrackList" src="" draggable="false"> 
      </div>
    </div>

    <div class="ad-filter"></div>

    <div class="ads pointer">
      <img src="./assets/Burgertown.gif" alt="Burgertown" draggable="false">
      <img src="./assets/Arson.gif" alt="Arson" draggable="false">
    </div>


    <div class="phone-container" id="menu" >
      <img src="./assets/Phone.png" id="phone" alt="menu">
      <div class="chatroom closed"><iframe src="https://www5.cbox.ws/box/?boxid=961522&boxtag=uxUIRY" width="100%" allowtransparency="yes" allow="autoplay" frameborder="0" marginheight="0" marginwidth="0" scrolling="auto"></iframe></div>
      <img class="vicbartendschat closed" src="assets/VicbartendsChat.png" alt="VicbartendsChat header">
      <div class="vicbartendsborderright closed"></div>
      <div class="vicbartendsborderleft closed"></div>
      <div class="button-container">
        <div class="button-row">
          <a href="PO1_AR-15" class="full-width pointer"><img src="./assets/Polaris-button.png" alt="Polaris-button"></a>
        </div>
        <div class="button-row">
          <a href="Extras" class="half pointer"><img src="./assets/Extras.png" alt="Extras-button"></a>
          <a href="Rambles" class="half pointer"><img src="./assets/MyArt.png" alt="My-Art-button"></a>
        </div>
        <div class="button-row">
          <a href="Hotlinks" class="half pointer"><img src="./assets/morewebsites.png" alt="Hotlinks-button"></a>
          <a href="About" class="half pointer"><img src="./assets/about.png" alt="About-button"></a>
        </div>
      </div>
      <div id="cboxbutton"><img src="assets/Cbox.png" alt="OpenCbox"></div>
      <div class="pointer" id="snooze"></div>
    </div>
    
  </body>

  <audio id="type-sound" src="sounds/typewriter.mp3" preload="auto"></audio>
  <audio id="donaranha" src="sounds/vicpotenusa_atmos_thingy.mp3" preload="auto"></audio>


<!-- Size logic DELETE ME -->
<script>
  function setVh() {
    let vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
  }

  window.addEventListener('resize', setVh);
  window.addEventListener('load', setVh);
</script>

<!-- Start Logic -->
<script>
const text1 = "This is a loading screen";
const text2 = "...";
const text3 = "Wow, your internet is really slow...";
const target = document.querySelector("#loading pre");
const typeSound = document.getElementById("type-sound");


let i1 = 0, i2 = 0, i3 = 0;
let loadingFinished = false;
let stopTyping = false;
let canPressSpace = true;
let bubbleTimeout;
let bubbleHasAppeared = false;

const loadingtext = document.getElementById("loadingtext");
const VicSelected = document.getElementById("VicSelect");
const LyriaSelected = document.getElementById("LyriaSelect");
const PercivalSelected = document.getElementById("PercivalSelect");
const BartenderSelect = document.querySelector(".Bartenderselect");
let selectedbartender = "Vic";
const BSsound1 = document.getElementById("BSS1");
const BSsound2 = document.getElementById("BSS2");

function playTypeSound() {
  if (loadingFinished) return;
  typeSound.currentTime = 0;
  typeSound.play();
}

function paragraph() {
  target.textContent += "\n";
}

function typeText1() {
  if (stopTyping) return;
  if (i1 < text1.length) {
    target.textContent += text1.charAt(i1);
    playTypeSound();
    i1++;
    setTimeout(typeText1, 130);
  } else {
    setTimeout(paragraph, 1000);
    setTimeout(typeText2, 2000);
  }
}

function typeText2() {
  if (stopTyping) return;
  if (i2 < text2.length) {
    target.textContent += text2.charAt(i2);
    playTypeSound();
    i2++;
    setTimeout(typeText2, 400);
  } else {
    setTimeout(paragraph, 3000);
    setTimeout(typeText3, 4000);
  }
}

function typeText3() {
  if (stopTyping) return;
  if (i3 < text3.length) {
    target.textContent += text3.charAt(i3);
    playTypeSound();
    i3++;
    setTimeout(typeText3, 100);
  }
}

function onLoadingComplete() {
  stopTyping = true;
  loadingFinished = true;

  const completeLine = document.createElement('span');
  completeLine.textContent = "\nloading complete, press any key to enter";
  completeLine.style.color = 'lightgreen';
  completeLine.style.cursor = 'default';
  completeLine.style.userSelect = 'none';

  target.appendChild(completeLine);

  const loader = document.getElementById("loading");
  const BGmusic = document.getElementById("donaranha");


 function proceed() {
    console.info(selectedbartender + " selected!");
    StartBartender(); //this makes it sound like they're programs lol.
    showRandomAd(); 
    setTimeout(() => {loader.classList.add("hide");}, 500);

    window.skipNextBlur = false;

    BGmusic.play().catch(err => {console.warn("Autoplay prevented:", err);});

    bubbleTimeout = setTimeout(() => {
        bubbleText.textContent = getRandomMessage("");
        textBubble.style.display = "block"                   
        textBubble.classList.add('animate__animated', 'animate__jackInTheBox');
        textBubble.style.setProperty('--animate-duration', '2s');
        setTimeout(() => {bubbleHasAppeared = true;}, 500); 
    }, 3000);

    document.addEventListener('visibilitychange', () => {
      if (document.hidden) {
        BGmusic.pause();
      } else if (loadingFinished && BGmusic.paused) {
        BGmusic.play();
      }
    });

    loader.addEventListener('transitionend', (e) => {
      if (e.propertyName === "opacity") {
        loader.remove();
        startMenuLogic();
      }
    }, { once: true });
  }

  function bartenderselect() {
    
    // Cleanup previous listeners
    document.removeEventListener('keydown', keyListener);
    loader.removeEventListener('click', clickListener);

    loadingtext.style.opacity = "0";
    BSsound1.play().catch(err => {console.warn("Autoplay prevented:", err);});
    setTimeout(() => {BartenderSelect.style.opacity = "1";}, 200);

    setTimeout(() => {
      VicSelected.addEventListener('click', () => {
        BSsound2.play().catch(err => {console.warn("Autoplay prevented:", err);});
        selectedbartender = "Vic";
        proceed();
      });

      LyriaSelected.addEventListener('click', () => {
        BSsound2.play().catch(err => {console.warn("Autoplay prevented:", err);});
        selectedbartender = "Lyria";
        proceed();
      });

      PercivalSelected.addEventListener('click', () => {
      BSsound2.play().catch(err => {console.warn("Autoplay prevented:", err);});
      selectedbartender = "Percival";
      proceed();
    });
    }, 500);
  }

  function keyListener() {
    bartenderselect();
  }

  function clickListener() {
    bartenderselect();
  }

  document.addEventListener('keydown', keyListener);
  loader.addEventListener('click', clickListener);
}

typeText1();

window.addEventListener("load", () => {
  onLoadingComplete();
});

function startMenuLogic() {
  const button = document.getElementById('space-bar'); 
  const snooze = document.getElementById('snooze'); 
  const menu = document.getElementById('menu');
  const textBubble = document.getElementById('textBubble');
  const bubbleText = document.getElementById('bubbleText');
  const bartenders = document.querySelectorAll('.bartender');
  

  function hideTextBubble() {
  if (!bubbleHasAppeared) return;
  setTimeout(() => {textBubble.style.display = "none";}, 1000);
  textBubble.classList.remove('animate__jackInTheBox', 'animate__animated');
  textBubble.classList.add('animate__animated', 'animate__fadeOut');
  textBubble.style.setProperty('--animate-duration', '1s');
}

  function showTextBubble() {
    setTimeout(() => {
      textBubble.classList.remove('animate__animated', 'animate__fadeOut');
      void textBubble.offsetWidth;
      textBubble.style.display = "block";    
      bubbleText.textContent = getRandomMessage(bubbleText.textContent);
      textBubble.classList.add('animate__animated', 'animate__jackInTheBox');
      textBubble.style.setProperty('--animate-duration', '2s');
    }, 300);
  }

  function activateMenu() {
    if (bubbleTimeout) {clearTimeout(bubbleTimeout); bubbleHasAppeared = true;}
    menu.classList.remove('move-down');
    menu.classList.add('move-up');
    // button.style.pointerEvents = "none"; Delete me if works
    button.classList.add('hide');
    hideTextBubble();
  }

  function deactivateMenu() {
    menu.classList.remove('move-up');
    menu.classList.add('move-down');
    // button.style.pointerEvents = "all"; Delete me if it works
    if (textBubble.style.display !== "block") {showTextBubble();}
    setTimeout(() => {button.classList.remove('hide');}, 700);
  }

  bartenders.forEach(bartender => bartender.addEventListener('click', () => {
    if (!bubbleHasAppeared) {return}
    hideTextBubble();
    setTimeout(() => {showTextBubble();}, 1000);
  }));
  textBubble.addEventListener('click', hideTextBubble); //Why don't you work??? YOU DO!!! THERE WAS A MISTAKE WITH THE CSS I AM A GENIUS AFTER ALL!!!
  
  // setTimeout(() => {
  //   if (!menu.classList.contains('move-up') && !menu.classList.contains('move-down')) {
  //     activateMenu();
  //   }
  // }, 10000);
  // Before the phone would go up after a bit, but I think that after the orbital buttons, there's already a lot happening on the index.

  button.addEventListener('click', activateMenu);
  snooze.addEventListener('click', () => {
    if (chatclosed) {
      deactivateMenu();
    }
    else {
      phoneicons.classList.remove('closed');
      chatroom.classList.add('closed');
      vicbartendschat.classList.add('closed');
      vicbartendsborderleft.classList.add('closed');
      vicbartendsborderright.classList.add('closed');
      chatclosed = true
    }
  });


  document.addEventListener('keydown', (event) => {
  if (event.code === 'Space') {
    event.preventDefault();

    if (!canPressSpace) return;

    canPressSpace = false; 
    setTimeout(() => {
      canPressSpace = true; 
    }, 1000); 

    if (menu.classList.contains('move-up')) {
      deactivateMenu();
    } else {
      activateMenu();
    }
  }
 });
 
}
</script>

<!-- Bartenders -->
<script>
  const messagesVic = [
    "Balls.",
    "What can I get ya?",
    "Pick your poison.",
    "You look great today!",
    "Max said she'd put up one of my mixtapes if I did my work properly, so don't get your hopes up.",
    "Welcome to the bar. I'm Vic and I'll be your bartender for the entire 5 seconds you'll spend on this page.",
    "I should give the gas giant behind me a name... I'm thinking Roberta.",
    "Maxine wants you to know she's really proud of this website.",
    "It's a bit lonely in here, don't you think?",
    "Can you draw me a horse?",
    "Oh yeah, the key is ORANGES!",
    "Katy looked like fun.",
    "The last customer looked so cool, I wanted to chat them up so bad...",
    "Hella",
    "I need to find more Hotlinks.",
    "104 dias que fazem as férias e a escola acaba com elas...",
    "Boo!",
    "Laugh hard, run fast, be kind. That's the lamest shit Max has said to me.",
    "My favorite drink? A screwdriver... I just really like orange juice.",
    "Max drew me, then cut her hair like mine and the other Max is just a self insert. Hence the hairs.",
    "Let me pay for your next drink... they're all free anyway.",
    "Got any Hotlinks for me?",
    "I hope some travelling cosmonaut tags up this place... hey, do you have any spraycans on you?",
    "Oh wow, you're totally pulling that look off.",
    "I'm bored... I wonder what Maxine is up to.",
    "Should I get a buzzcut? Should we both get a buzzcut?",
    "Do you have any weed on you? I really don't feel like working...",
    "Our landlord is a really scary bird lady with a sword. She's awesome.",
    "How can I have daddy issues if I never met mine?",
    "Arrow key make button go fast"
  ];

  const messagesLyria = [
    "Hiya! Did ya sleep well?",
    "Orly is a dumb traitor.",
    "Vic asked me to tell you that the key is ORANGES.",
    "Hey! Can you get me off this rock?",
    "Je ne connais pas le français, aidez-moi.",
    "How the hell did I end up here?!",
    "Vic said she needed to see a 'Crimson Star', whatever that means...",
    "The drinks here are not half bad...",
    "What the hell is a 'pornstar martini'?",
    "Oh, another human. Great.",
    "I thought my journey was weird enough, and now look where I am...",
    "How can a spider web be the width of the whole world?"
  ];
  let messages = [];

  const bartenderVic = document.getElementById("bartenderVic");
  const bartenderLyria = document.getElementById("bartenderLyria");

  const desktopBubble = document.getElementById("desktop-bubble");
  const mobileBubble = document.getElementById("mobile-bubble");
  const bubbleText = document.getElementById("bubbleText");
  const bubbleParagraph = document.querySelector("#textBubble p");
  const pointer = document.querySelectorAll('.pointer');

  const vicDesktopBubbleSrc = desktopBubble.src;
  const vicMobileBubbleSrc = mobileBubble.src;
  const lyriaDesktopBubbleSrc = "./assets/TextBubbleDeskLyria.png";
  const lyriaMobileBubbleSrc = "./assets/TextBubbleTabletLyria.png";

  function getRandomMessage(currentMessage) {
    let newMessage;
    do {
      newMessage = messages[Math.floor(Math.random() * messages.length)];
    } while (newMessage === currentMessage);
    return newMessage;
  }


  function StartBartender() {
    if (selectedbartender == "Lyria") { 
      bartenderVic.style.display = "none";
      bartenderLyria.style.display = "inline";
      pointer.forEach(pointer => {pointer.style.setProperty("cursor", "url('../assets/CursorLyria2.png'), default", "important");});
      document.body.style.setProperty("cursor", "url('../assets/CursorLyria1.png'), default", "important");

      desktopBubble.src = lyriaDesktopBubbleSrc;
      mobileBubble.src = lyriaMobileBubbleSrc;
      messages = [...messagesLyria];

      bubbleParagraph.style.fontSize = '20px';
      bubbleParagraph.style.fontFamily = "'Bradley Hand', cursive";
      bubbleText.textContent = getRandomMessage(bubbleText.textContent);


    } else {
      bartenderVic.style.display = "inline";
      bartenderLyria.style.display = "none";
      pointer.forEach(pointer => {pointer.style.setProperty("cursor", "url('../assets/CursorVic2.png'), default", "important");});
      document.body.style.setProperty("cursor", "url('../assets/CursorVic1.png'), default", "important");

      desktopBubble.src = vicDesktopBubbleSrc;
      mobileBubble.src = vicMobileBubbleSrc;
      messages = [...messagesVic];

      bubbleText.textContent = getRandomMessage(bubbleText.textContent);
    }
  }
</script>

<!-- Ad logic -->
<script>
  let adTimeout; 
  const adsContainer = document.querySelector('.ads');
  const adImages = adsContainer.querySelectorAll('img');
  const overlay = document.querySelector('.ad-filter');

  function showRandomAd() {
    clearTimeout(adTimeout);

    const delay = Math.random() * 60000 + 5000;

    adTimeout = setTimeout(() => {
      const randomIndex = Math.floor(Math.random() * adImages.length);
      const chosenImage = adImages[randomIndex];

      chosenImage.style.display = 'block';
      overlay.style.display = 'block';

      chosenImage.onclick = () => {
        chosenImage.style.display = 'none';
        overlay.style.display = 'none';
        showRandomAd();
      };
    }, delay);
  }

  window.addEventListener('pagehide', () => {
    clearTimeout(adTimeout);
  });

  document.addEventListener('visibilitychange', () => {
    if (document.hidden) {
      clearTimeout(adTimeout);
    } else {
      showRandomAd();
    }
  });
</script>

<!-- Lyria's click link -->
<script>
  window.addEventListener('DOMContentLoaded', () => {
    const Lyria = document.getElementById('bartenderLyria');

    Lyria.addEventListener('click', function(event) {
      event.preventDefault();
      window.skipNextBlur = true;
      const ok = window.confirm("This button takes you to Lyria's linktree! Wanna continue?");
      if (ok) {
        window.skipNextBlur = false;
        window.open('https://linktr.ee/__little_draw', '_blank');
      }
    });
  });
</script>

<!-- Satellite logic -->
<script>
  const MIN_TIME = 0.25; 
  const satellites = document.querySelectorAll('.satellite img');

  let currentTime = parseFloat(
    getComputedStyle(satellites[0]).animationDuration
  );

  function setAnimationTime(time) {
    currentTime = Math.max(MIN_TIME, time);

    satellites.forEach(img => {
      img.style.animationDuration = currentTime + 's';
    });
  }

  document.addEventListener('keydown', (e) => {
    if (e.key === 'ArrowUp') {
      setAnimationTime(currentTime / 1.2);
    }

    if (e.key === 'ArrowDown') {
      setAnimationTime(currentTime * 1.2);
    }
  });
</script>

<!-- Mixtape logic -->
<script>
  const screen = document.querySelector('.OVRL');
  const Autumn = document.getElementById('Autumn');
  const ihabk = document.getElementById('ihabk');
  const vela = document.getElementById('vela');

  const MTAutumn = document.querySelector('.ATMN');
  const MTSpring = document.querySelector('.SPRG');
  const MTSummer = document.querySelector('.SUMM');
  const MTWinter = document.querySelector('.WNTR');
  const MTVela = document.querySelector('.VELA');
  const MTTracker = document.querySelector('.TRCK');
  const MTBloodkink = document.querySelector('.IHBK');
  const MTElizabeth = document.querySelector('.ELZBT');

  const BGT = document.querySelectorAll('.BackgroundTape');
  const MTT = document.querySelectorAll('.MTTitle');
  const MTD = document.querySelectorAll('#MixtapeDissapear');
  const MTTL = document.querySelectorAll('.MTTrackList');

  let stage = 0;

  screen.addEventListener('click', (goodbye) => {
    if (stage == 0){
      BGT.forEach(BGT => {BGT.style.left = "35%"; BGT.style.top = "20%";});
      MTT.forEach(MTT => {MTT.style.left = "60%"; MTT.style.top = "15%";});
      MTD.forEach(MTD => MTD.style = "opacity: 0")
      MTTL.forEach(MTTL => MTTL.style = "opacity: 1");
      stage++;
    }
    else {
      screen.style = "display: none";
      BGT.forEach(BGT => {BGT.style.left = "50%"; BGT.style.top = "50%";});
      MTT.forEach(MTT => {MTT.style.left = "50%"; MTT.style.top = "60%";});
      MTD.forEach(MTD => MTD.style = "opacity: 1")
      MTTL.forEach(MTTL => MTTL.style = "opacity: 0");
      Autumn.style = "display: none";
      ihabk.style = "display: none";
      vela.style = "display: none";
      stage = 0;
    }
  });

  MTAutumn.addEventListener('click', (checkingoutmymixtape) => {
    screen.style.display = "block";
    requestAnimationFrame(() => {screen.style.opacity = "1";});

    Autumn.style.display = "block";
  });

  MTSpring.addEventListener('click', (checkingoutmymixtape) => {
    screen.style.display = "block";
    requestAnimationFrame(() => {screen.style.opacity = "1";});
  });

  MTSummer.addEventListener('click', (checkingoutmymixtape) => {
    screen.style.display = "block";
    requestAnimationFrame(() => {screen.style.opacity = "1";});
  });

  MTWinter.addEventListener('click', (checkingoutmymixtape) => {
    screen.style.display = "block";
    requestAnimationFrame(() => {screen.style.opacity = "1";});
  });

  MTVela.addEventListener('click', (checkingoutmymixtape) => {
    screen.style.display = "block";
    requestAnimationFrame(() => {screen.style.opacity = "1";});

    vela.style.display = "block";
  });

  MTTracker.addEventListener('click', (checkingoutmymixtape) => {
    screen.style.display = "block";
    requestAnimationFrame(() => {screen.style.opacity = "1";});
  });

  MTBloodkink.addEventListener('click', (checkingoutmymixtape) => {
    screen.style.display = "block";
    requestAnimationFrame(() => {screen.style.opacity = "1";});

    ihabk.style.display = "block";
  });

  MTElizabeth.addEventListener('click', (checkingoutmymixtape) => {
    screen.style.display = "block";
    requestAnimationFrame(() => {screen.style.opacity = "1";});
  });



</script>

<!-- CBox logic -->
<script>
  const cboxbutton = document.getElementById('cboxbutton');
  const phoneicons = document.querySelector(".button-container");
  const chatroom = document.querySelector(".chatroom");
  const vicbartendschat = document.querySelector(".vicbartendschat");
  const vicbartendsborderleft = document.querySelector(".vicbartendsborderleft");
  const vicbartendsborderright = document.querySelector(".vicbartendsborderright");

  let chatclosed = true

  cboxbutton.addEventListener('click', () => {
    phoneicons.classList.add('closed');
    chatroom.classList.remove('closed');
    vicbartendschat.classList.remove('closed');
    vicbartendsborderleft.classList.remove('closed');
    vicbartendsborderright.classList.remove('closed');
    chatclosed = false
  });
</script>


</html>
